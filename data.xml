<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<changes>
  <change line="U9" towards="Rathaus Steglitz" at="Bundesplatz" change-line-regex="S.*" location="almost front"/>
  <change line="U9" towards="Osloer Straße" at="Bundesplatz" change-line-regex="S.*" location="almost back"/>

  <change line="U9" towards="Rathaus Steglitz" at="Berliner Straße" change-line="U7" location="middle/middle front"/>
  <change line="U9" towards="Rathaus Steglitz" at="Berliner Straße" change-line="U7" location="middle/middle back"/>
  <change line="U9" towards="Osloer Straße" at="Berliner Straße" change-line="U7" location="middle/middle front"/>
  <change line="U9" towards="Osloer Straße" at="Berliner Straße" change-line="U7" location="middle/middle back"/>

  <change line="U3" towards="Nollendorfplatz" at="Heidelberger Platz" change-line-regex="S.*" location="back"/>
  <change line="U3" towards="Krumme Lanke"    at="Heidelberger Platz" change-line-regex="S.*" location="front"/>
  <change line="U3" towards="Nollendorfplatz" at="Fehrbelliner Platz" change-line="U7" location="back"/>
  <change line="U3" towards="Krumme Lanke"    at="Fehrbelliner Platz" change-line="U7" location="front"/>

  <batch line="U9" towards="Osloer Straße">
    <exit   at="Nauener Platz" name="middle platform" location="almost front" description="Schulstraße, Reinickendorfer Straße" derive-reverse="true"/>
    <exit   at="Nauener Platz" name="middle platform" location="almost back"  description="Schulstraße, Reinickendorfer Straße" derive-reverse="true"/>
    <exit   at="Osloer Straße" name="front" location="front" description="Residenzstraße, Schwedenstraße, Drontheimer Straße, M, tram, bus, escalator" derive-reverse="true"/>
    <exit   at="Osloer Straße" name="back1" location="almost back" description="Residenzstraße, Schwedenstraße, Drontheimer Straße, M, tram, bus, escalator" derive-reverse="true"/>
    <exit   at="Osloer Straße" name="back2" location="back" description="Elevator only" derive-reverse="true"/>
    <change at="Osloer Straße" change-line="U8" location="middle/middle front"/>
    <change at="Osloer Straße" change-line="U8" location="middle/middle back"/>
  </batch>

  <batch line="U7" towards="Rathaus Spandau">
    <change at="Neukölln" change-line-regex="S.*" location="front"/>
    <exit   at="Neukölln" name="north" location="front" description="Emser Straße, Saalestraße" derive-reverse="true"/>
    <exit   at="Neukölln" name="south" location="back" description="Lahnstraße, Silbersteinstraße" derive-reverse="true"/>
    <change at="Hermannplatz" change-line="U8" location="middle/middle back"/>
    <exit   at="Möckernbrücke" to="Wikimedia" location="middle" description="Lahnstraße, Silbersteinstraße" derive-reverse="true"/>
    <change at="Berliner Straße" change-line="U9" location="middle"/>
    <change at="Fehrbelliner Platz" change-line="U3" location="almost back"/>
  </batch>
  <batch line="U7" towards="Rudow">
    <change at="Neukölln" change-line-regex="S.*" location="back"/>
    <change at="Hermannplatz" change-line="U8" location="middle/middle front"/>
    <change at="Berliner Straße" change-line="U9" location="middle"/>
    <change at="Fehrbelliner Platz" change-line="U3" location="almost front"/>
  </batch>

  <batch line="U2" towards="Ruhleben">
    <change at="Stadtmitte" change-line="U6" location="front" derive-reverse-from="true"/>
    <exit   at="Eberswalder Straße" name="north" location="back" description="Cantianstraße" derive-reverse="true"/>
    <exit   at="Eberswalder Straße" name="south" location="front" description="Eberswalder Straße, Danziger Straße, Sparkasse, Kulturbrauerei" derive-reverse="true"/>
  </batch>
  <batch line="U2" towards="Pankow">
    <!-- nothing here yet -->
  </batch>

  <change line="U6" towards="Alt-Tegel"      at="Tempelhof" change-line-regex="S.*" location="front"/>
  <change line="U6" towards="Alt Mariendorf" at="Tempelhof" change-line-regex="S.*" location="back"/>

  <batch line="U8" towards="Hermannstraße">
    <change at="Hermannplatz" change-line="U7" location="middle/middle front" derive-reverse-from="true"/>
    <change at="Hermannstraße" change-line-regex="S.*" location="back"/>
    <exit   at="Hermannstraße" name="north" location="back" description="Hermannstraße, Siegfriedstraße, Emser Straße"/>
    <exit   at="Hermannstraße" name="south" location="front" description="Hermannstraße, Silbersteinstraße, Kranoldstraße"/>
  </batch>

  <batch line="U8" towards="Wittenau">
    <exit   at="Hermannstraße" name="south" location="back" description="Hermannstraße, Silbersteinstraße, Kranoldstraße"/>
    <exit   at="Hermannstraße" name="north" location="front" description="Hermannstraße, Siegfriedstraße, Emser Straße"/>
    <exit   at="Leinestraße" name="" location="back" description="Hermannstraße, Thomasstraße, Leinestraße"/>
    <exit   at="Leinestraße" name="" location="front" description="Hermannstraße, Okerstraße"/>
    <exit   at="Boddinstraße" name="" location="back" description="Hermannstraße, Boddinstraße, Selchower Straße"/>
    <exit   at="Boddinstraße" name="" location="front" description="Hermannstraße, Biebricher Straße, Flughafenstraße"/>
    <!-- Hermannplatz -->
    <exit   at="Schönleinstraße" name="" location="back" description="Kottbusser Damm, Schönleinstraße, Bürknerstraße, Böckhstraße"/>
    <exit   at="Schönleinstraße" name="" location="front" description="Kottbusser Damm, Schinkestr, Planufer, Maybachufer"/>
    <change at="Kottbusser Tor" change-line="U1" location="almost back"/>
    <change at="Kottbusser Tor" change-line="U1" location="middle/middle front"/>
    <thing  at="Kottbusser Tor" type="shop" location="middle/middle back" description="Kompakt KAUF"/>
    <exit   at="Kottbusser Tor" name="" location="almost back" description="middle platform, exits and U1"/>
    <thing  at="Kottbusser Tor" type="elevator" location="middle" description="to street level, bus, U1"/>
    <exit   at="Kottbusser Tor" name="" location="middle/middle front" description="middle platform, exits and U1"/>
    <exit   at="Kottbusser Tor" name="" location="front" description="Reichenberger Straße"/>
    <exit   at="Moritzplatz" name="middle platform" location="middle/middle back" description="Oranienstraße, Prinzenstraße, Heinrich-Heine-Straße"/>
    <exit   at="Moritzplatz" name="middle platform" location="middle/middle front" description="Oranienstraße, Prinzenstraße, Heinrich-Heine-Straße"/>
    <exit   at="Heinrich-Heine-Straße" name="" location="back" description="Heinrich-Heine-Straße, Schmidstraße, Annenstraße"/>
    <exit   at="Heinrich-Heine-Straße" name="" location="front" description="Köpenicker Straße, Brückenstraße, Rungestraße"/>
    <change at="Jannowitzbrücke" change-line-regex="S.*" location="back"/>
    <exit   at="Jannowitzbrücke" name="" location="back" description="Holzmarktstraße, Brückenstraße, Märkisches Ufer"/>
    <exit   at="Jannowitzbrücke" name="" location="front" description="Alexanderstraße, Stralauer Straße, Schicklerstraße"/>
    <thing  at="Jannowitzbrücke" type="elevator" location="back" description="to street level"/>
    <exit   at="Alexanderplatz" name="" location="front" description="Karl-Liebknecht-Straße, Dircksenstraße"/>
    <exit   at="Weinmeisterstraße" name="" location="back" description="Alte Schönhauser Straße, Neue Schönhauser Straße, Münzstraße"/>
    <exit   at="Weinmeisterstraße" name="" location="front" description="Rosenthaler Straße, Gormannstraße, Gipsstraße, tram, M1"/>
    <exit   at="Rosenthaler Platz" name="" location="back" description="Rosenthaler Straße, Torstraße, Weinbergstraße, VHS"/>
    <exit   at="Rosenthaler Platz" name="" location="front" description="Brunnenstraße, Invalidenstraße, Veteranenstraße"/>
    <thing  at="Rosenthaler Platz" type="elevator" location="back" description=""/>
    <exit   at="Bernauer Straße" name="" location="back" description="Brunnenstraße, Rheinsberger Straße, Anklamer Straße"/>
    <exit   at="Bernauer Straße" name="" location="front" description="Brunnenstraße, Bernauer Straße, Gedenkstätte Berliner Mauer, bus, tram"/>
    <thing  at="Bernauer Straße" type="elevator" location="back" description=""/>
    <exit   at="Voltastraße" name="" location="back" description="Brunenstraße, Usedomer Straße, Demminer, bus, elevator"/>
    <exit   at="Voltastraße" name="" location="front" description="Brunnenstraße, Voltastraße, Lortzingstraße"/>
    <exit   at="Gesundbrunnen" name="" location="back" description="Brunnenstraße, Humboldthain, Ramlerstraße, Unterwelten-Museum, Escalator in both ways, stairs"/>
    <thing  at="Gesundbrunnen" name="" location="almost back" description="change to S, Regio, Bahn"/>
    <thing  at="Gesundbrunnen" name="" location="middle" description="change to S, Regio, Bahn"/>
    <thing  at="Gesundbrunnen" name="" location="almost front" description="change to S1, S2, S25, S26 towards north, S41"/>
    <thing  at="Gesundbrunnen" name="" location="front" description="Cuccis"/>
    <thing  at="Gesundbrunnen" name="" location="front" description="change to S1, S2, S25, S26 towards south, S42"/>
    <exit   at="Gesundbrunnen" name="" location="front" description="Badstraße, Grüntaler Straße, Escalator in both ways, stairs"/>
    <exit   at="Pankstraße" name="back" location="middle/middle back" description="middle platform with two stairways to Prinzenallee"/>
    <exit   at="Pankstraße" name="front" location="middle/middle front" description="middle platform with two stairways to Prinzenallee"/>
    <thing  at="Pankstraße" location="back" description="Door to Berlin Unterwelten"/>
    <exit   at="Osloer Straße" name="middle platform" location="almost front" description="Residenzstraße, Schwedenstraße, Drontheimer Straße, M, tram, bus, escalator"/>
    <change at="Osloer Straße" change-line="U9" location="middle/middle front"/>
    <change at="Osloer Straße" change-line="U9" location="middle/middle back"/>
    <thing  at="Osloer Straße" location="middle/middle back" description="lafino - snacks and coffee to go"/>
    <thing  at="Osloer Straße" location="back" description="elevator to exit, U9, M, tram"/>
    <exit   at="Osloer Straße" name="middle platform" location="almost back" description="Residenzstraße, Schwedenstraße, Drontheimer Straße, M, tram, bus, escalator"/>
  </batch>

  <batch line="S41" towards="Wedding" reverse-line="S42" reverse-towards="Schönhauser Allee">
    <exit   at="Prenzlauer Allee" name="only-exit" location="front" description="Prenzlauer Allee" derive-reverse="true"/>
    <change at="Neukölln" change-line="U7" location="front" derive-reverse-from="true"/>
    <exit   at="Neukölln" name="west" location="front" description="Karl-Marx-Straße, Emser Straße" derive-reverse="true"/>
    <exit   at="Neukölln" name="east" location="back" description="Saalestraße" derive-reverse="true"/>
    <change at="Hermannstraße" change-line="U8" location="middle" derive-reverse-from="true"/>
    <exit   at="Hermannstraße" name="west" location="front" description="Escalator" derive-reverse="true"/>
    <exit   at="Hermannstraße" name="east" location="back" description="Hermann-Quartier, Elevator" derive-reverse="true"/>
    <change at="Tempelhof" change-line="U6" location="almost back" derive-reverse-from="true"/>
    <exit   at="Südkreuz" name="Schöneberg" location="front" description="Reisezentrum, Edeka, Burger King, BSR" derive-reverse="true"/>
    <exit   at="Südkreuz" name="Tempelhof" location="back" description="dm, McDonald's, IKEA" derive-reverse="true"/>
    <change at="Innsbrucker Platz" change-line="U4" location="back" derive-reverse-from="true"/>
    <exit   at="Innsbrucker Platz" name="only-exit" location="back" description="Hauptstraße, Innsbrucker Platz" derive-reverse="true"/>
    <change at="Bundesplatz" change-line="U9" change-towards="Rathaus Steglitz" location="front" derive-reverse-from="true"/>
    <change at="Bundesplatz" change-line="U9" change-towards="Osloer Straße" location="middle" derive-reverse-from="true"/>
    <change at="Bundesplatz" change-line="U9" change-towards="Osloer Straße" location="back" derive-reverse-from="true"/>
    <change at="Heidelberger Platz" change-line="U3" location="back" derive-reverse-from="true"/>
  </batch>
</changes>
